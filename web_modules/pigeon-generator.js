var a=Object.assign;class l{constructor({id:i,author:e,content:t,media:o,likes:n,parent:s}){this.hydrated=!1,this.id=i,this.likes=n,this.authorName=e,this.content=t,this.media=o,this.parentId=s}hydrate({users:i,posts:e}){this.author=i.find(t=>t.username===this.authorName),this.comments=e.filter(t=>t.parentId===this.id),this.parentId&&(this.parent=e.find(t=>t.id===this.parentId)),this.hydrated=!0}}class c{constructor({username:i,displayName:e,followers:t,following:o,profileImage:n,bio:s,bannerImage:r}){this.hydrated=!1,this.username=i,this.displayName=e,this._followers=t,this._following=o,this.bio=s,this.profileImage=n,this.bannerImage=r}hydrate({users:i,posts:e}){const t=i.map(o=>({[o.username]:o})).reduce((o,n)=>a(a({},o),n),{});this.followers=this._followers.map(o=>t[o]),this.following=this._following.map(o=>t[o]),this.posts=e.filter(o=>o.authorName===this.username),this.hydrated=!0}}class p{constructor(i){this.data=i,this.hydrated=!1,this.users=[],this.posts=[],i.users.forEach(e=>{this.users.push(new c({username:e.username,displayName:e.displayName,followers:i.follows.filter(t=>t.follows===e.username).map(t=>t.user),following:i.follows.filter(t=>t.user===e.username).map(t=>t.follows),bio:e.bio,profileImage:e.profileImage,bannerImage:e.bannerImage}))}),i.posts.forEach(e=>{this.posts.push(new l({parent:e.parent,id:e.id,likes:e.likes,author:e.author,content:e.content,media:e.media}))}),this._userObj=this.users.map(e=>({[e.username.toLowerCase()]:e})).reduce((e,t)=>a(a({},e),t),{}),this._postObj=this.posts.map(e=>({[e.id]:e})).reduce((e,t)=>a(a({},e),t),{})}getUser(i){return i?this._userObj[i.toLowerCase()]:void 0}getPost(i){return i?this._postObj[i]:void 0}hydrate(){this.users.map(i=>i.hydrate(this)),this.posts.map(i=>i.hydrate(this)),this.hydrated=!0}}const d=[{username:"beowulf",displayName:"Beowulf \u2694\uFE0F",bio:"the best hero around",profileImage:{type:"image",src:"profile/beowulf.png"}},{username:"hrothgar",displayName:"Hrothgar",bio:"king of somewhere idk"},{username:"Technothepig",displayName:"Technoblade \u{1F437}",bio:"the second worst thing to ever happen to those orphans",profileImage:{type:"image",src:"profile/technothepig.jpg"},bannerImage:{type:"image",src:"banner/technothepig.jpeg"}}],u=[{id:"WjQ12A3hIsIUi5QwfF_35",author:"beowulf",content:"Test post",media:[{type:"image",src:"svelte.png",caption:"svelte logo"}],likes:50},{parent:"WjQ12A3hIsIUi5QwfF_35",id:"6V9FuKasuiYOb6Ex_5Xu5",author:"hrothgar",content:"Test comment",media:[],likes:25},{parent:"6V9FuKasuiYOb6Ex_5Xu5",id:"cJlRDjOxMqG6ThmLYoFrS",author:"beowulf",content:"Test reply",media:[{type:"image",src:"svelte.png",caption:"svelte logo"}],likes:5},{parent:"cJlRDjOxMqG6ThmLYoFrS",id:"jMy-FrKwP_EY_sKyK_64O",author:"hrothgar",content:"Test reply to reply",media:[],likes:0},{id:"vSZT2nzmtuQayxLOlYi9I",author:"hrothgar",content:"Test post",media:[],likes:50},{parent:"vSZT2nzmtuQayxLOlYi9I",id:"SnP0k0v2EeWtqGZICMnFp",author:"beowulf",content:"Test comment",media:[{type:"image",src:"svelte.png",caption:"svelte logo"}],likes:25},{parent:"SnP0k0v2EeWtqGZICMnFp",id:"gHL4cAjdY-ckeH56c61M3",author:"hrothgar",content:"Test reply",media:[],likes:5},{parent:"gHL4cAjdY-ckeH56c61M3",id:"xLczeQXVENFMHoWaJNqlq",author:"beowulf",content:"Test reply to reply",media:[{type:"image",src:"svelte.png",caption:"svelte logo"}],likes:0},{parent:"vSZT2nzmtuQayxLOlYi9I",id:"oRz_j_OH06CZ7BxqcHtu-",author:"Technothepig",content:"nice",media:[],likes:1e3},{parent:"oRz_j_OH06CZ7BxqcHtu-",id:"u-ODlnFZqX74a_v6eo-sy",author:"Technothepig",content:"nice",media:[],likes:1e3},{parent:"u-ODlnFZqX74a_v6eo-sy",id:"bw7sEHdTl4jnYSp6C4tia",author:"Technothepig",content:"nice",media:[],likes:1e3},{parent:"bw7sEHdTl4jnYSp6C4tia",id:"uuagoHIVD6g3LE0FZm7pC",author:"Technothepig",content:"nice",media:[],likes:1e3},{parent:"uuagoHIVD6g3LE0FZm7pC",id:"hovscADmYK12oSZzizff9",author:"Technothepig",content:"nice",media:[],likes:1e3},{parent:"hovscADmYK12oSZzizff9",id:"vu13cPaBc1ilLvfuqTom6",author:"Technothepig",content:"nice",media:[],likes:-1500},{parent:"vu13cPaBc1ilLvfuqTom6",id:"1qXLfsps-EoVK8QMm4UQ4",author:"Technothepig",content:"nice",media:[],likes:1e3},{parent:"1qXLfsps-EoVK8QMm4UQ4",id:"3KjavHwa7OojcCZY_Eey0",author:"Technothepig",content:"nice",media:[],likes:1e3},{parent:"3KjavHwa7OojcCZY_Eey0",id:"ejjD01abL37zao8hqDvoP",author:"Technothepig",content:"nice",media:[],likes:1e3},{id:"Yzx1dRiCqPMlRCi3tR0qS",author:"Technothepig",content:"nice",media:[],likes:1e3},{parent:"Yzx1dRiCqPMlRCi3tR0qS",id:"y7dnIhSWa6-0R-Zwy1vqp",author:"Technothepig",content:"nice",media:[],likes:1e3},{parent:"y7dnIhSWa6-0R-Zwy1vqp",id:"X-7BaFIHVtaZumWjXKPVE",author:"Technothepig",content:"nice",media:[],likes:1e3},{parent:"X-7BaFIHVtaZumWjXKPVE",id:"Qt87Rp6IvWPf39-ZViL8-",author:"Technothepig",content:"nice",media:[],likes:1e3},{parent:"Qt87Rp6IvWPf39-ZViL8-",id:"XbmiDKCXkLjMRWqB29tGd",author:"Technothepig",content:"nice",media:[],likes:1e3},{parent:"XbmiDKCXkLjMRWqB29tGd",id:"hbLqxAiniH6q60UXdDu7L",author:"Technothepig",content:"nice",media:[],likes:-1500},{parent:"hbLqxAiniH6q60UXdDu7L",id:"8wv9CQWaBX7b5vAD-27W2",author:"Technothepig",content:"nice",media:[],likes:1e3},{parent:"8wv9CQWaBX7b5vAD-27W2",id:"ngvbLSY9lRghyKwhPWOfQ",author:"Technothepig",content:"nice",media:[],likes:1e3},{parent:"ngvbLSY9lRghyKwhPWOfQ",id:"lzhnBF1jWZ6ou1Lya4OqD",author:"Technothepig",content:"nice",media:[],likes:1e3}],m=[{user:"hrothgar",follows:"beowulf"},{user:"hrothgar",follows:"Technothepig"},{user:"beowulf",follows:"Technothepig"}];var g={users:d,posts:u,follows:m};export{p as Hydrator,g as hydratorData};
