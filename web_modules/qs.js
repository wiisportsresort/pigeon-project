var P=Object.prototype.hasOwnProperty,g=Array.isArray,v=function(){for(var f=[],e=0;e<256;++e)f.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return f}(),V=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(g(n)){for(var a=[],i=0;i<n.length;++i)typeof n[i]!="undefined"&&a.push(n[i]);r.obj[r.prop]=a}}},Q=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},a=0;a<e.length;++a)typeof e[a]!="undefined"&&(n[a]=e[a]);return n},$=function f(e,r,n){if(!r)return e;if(typeof r!="object"){if(g(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!P.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var a=e;return g(e)&&!g(r)&&(a=Q(e,n)),g(e)&&g(r)?(r.forEach(function(i,l){if(P.call(e,l)){var t=e[l];t&&typeof t=="object"&&i&&typeof i=="object"?e[l]=f(t,i,n):e.push(i)}else e[l]=i}),e):Object.keys(r).reduce(function(i,l){var t=r[l];return P.call(i,l)?i[l]=f(i[l],t,n):i[l]=t,i},a)},I=function(e,r){return Object.keys(r).reduce(function(n,a){return n[a]=r[a],n},e)},k=function(f,e,r){var n=f.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(a){return n}},M=function(e,r,n){if(e.length===0)return e;var a=e;if(typeof e=="symbol"?a=Symbol.prototype.toString.call(e):typeof e!="string"&&(a=String(e)),n==="iso-8859-1")return escape(a).replace(/%u[0-9a-f]{4}/gi,function(u){return"%26%23"+parseInt(u.slice(2),16)+"%3B"});for(var i="",l=0;l<a.length;++l){var t=a.charCodeAt(l);if(t===45||t===46||t===95||t===126||t>=48&&t<=57||t>=65&&t<=90||t>=97&&t<=122){i+=a.charAt(l);continue}if(t<128){i=i+v[t];continue}if(t<2048){i=i+(v[192|t>>6]+v[128|t&63]);continue}if(t<55296||t>=57344){i=i+(v[224|t>>12]+v[128|t>>6&63]+v[128|t&63]);continue}l+=1,t=65536+((t&1023)<<10|a.charCodeAt(l)&1023),i+=v[240|t>>18]+v[128|t>>12&63]+v[128|t>>6&63]+v[128|t&63]}return i},U=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],a=0;a<r.length;++a)for(var i=r[a],l=i.obj[i.prop],t=Object.keys(l),u=0;u<t.length;++u){var c=t[u],s=l[c];typeof s=="object"&&s!==null&&n.indexOf(s)===-1&&(r.push({obj:l,prop:c}),n.push(s))}return V(r),e},K=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},G=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},W=function(e,r){return[].concat(e,r)},_=function(e,r){if(g(e)){for(var n=[],a=0;a<e.length;a+=1)n.push(r(e[a]));return n}return r(e)},b={arrayToObject:Q,assign:I,combine:W,compact:U,decode:k,encode:M,isBuffer:G,isRegExp:K,maybeMap:_,merge:$},J=String.prototype.replace,X=/%20/g,T={RFC1738:"RFC1738",RFC3986:"RFC3986"},O=b.assign({default:T.RFC3986,formatters:{RFC1738:function(f){return J.call(f,X,"+")},RFC3986:function(f){return String(f)}}},T),Y=Object.prototype.hasOwnProperty,L={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},x=Array.isArray,Z=Array.prototype.push,H=function(f,e){Z.apply(f,x(e)?e:[e])},q=Date.prototype.toISOString,z=O.default,y={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:b.encode,encodeValuesOnly:!1,format:z,formatter:O.formatters[z],indices:!1,serializeDate:function(e){return q.call(e)},skipNulls:!1,strictNullHandling:!1},ee=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},re=function f(e,r,n,a,i,l,t,u,c,s,p,h,m){var o=e;if(typeof t=="function"?o=t(r,o):o instanceof Date?o=s(o):n==="comma"&&x(o)&&(o=b.maybeMap(o,function(F){return F instanceof Date?s(F):F}).join(",")),o===null){if(a)return l&&!h?l(r,y.encoder,m,"key"):r;o=""}if(ee(o)||b.isBuffer(o)){if(l){var S=h?r:l(r,y.encoder,m,"key");return[p(S)+"="+p(l(o,y.encoder,m,"value"))]}return[p(r)+"="+p(String(o))]}var N=[];if(typeof o=="undefined")return N;var j;if(x(t))j=t;else{var A=Object.keys(o);j=u?A.sort(u):A}for(var E=0;E<j.length;++E){var w=j[E],C=o[w];if(!(i&&C===null)){var R=x(o)?typeof n=="function"?n(r,w):r:r+(c?"."+w:"["+w+"]");H(N,f(C,R,n,a,i,l,t,u,c,s,p,h,m))}}return N},ne=function(e){if(!e)return y;if(e.encoder!==null&&e.encoder!==void 0&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||y.charset;if(typeof e.charset!="undefined"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=O.default;if(typeof e.format!="undefined"){if(!Y.call(O.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var a=O.formatters[n],i=y.filter;return(typeof e.filter=="function"||x(e.filter))&&(i=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:y.addQueryPrefix,allowDots:typeof e.allowDots=="undefined"?y.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:y.charsetSentinel,delimiter:typeof e.delimiter=="undefined"?y.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:y.encode,encoder:typeof e.encoder=="function"?e.encoder:y.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:y.encodeValuesOnly,filter:i,formatter:a,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:y.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:y.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:y.strictNullHandling}},te=function(f,e){var r=f,n=ne(e),a,i;typeof n.filter=="function"?(i=n.filter,r=i("",r)):x(n.filter)&&(i=n.filter,a=i);var l=[];if(typeof r!="object"||r===null)return"";var t;e&&e.arrayFormat in L?t=e.arrayFormat:e&&"indices"in e?t=e.indices?"indices":"repeat":t="indices";var u=L[t];a||(a=Object.keys(r)),n.sort&&a.sort(n.sort);for(var c=0;c<a.length;++c){var s=a[c];n.skipNulls&&r[s]===null||H(l,re(r[s],s,u,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.formatter,n.encodeValuesOnly,n.charset))}var p=l.join(n.delimiter),h=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?h+="utf8=%26%2310003%3B&":h+="utf8=%E2%9C%93&"),p.length>0?h+p:""},D=Object.prototype.hasOwnProperty,ae=Array.isArray,d={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:b.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},ie=function(f){return f.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},B=function(f,e){return f&&typeof f=="string"&&e.comma&&f.indexOf(",")>-1?f.split(","):f},fe="utf8=%26%2310003%3B",le="utf8=%E2%9C%93",ue=function(e,r){var n={},a=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,i=r.parameterLimit===Infinity?void 0:r.parameterLimit,l=a.split(r.delimiter,i),t=-1,u,c=r.charset;if(r.charsetSentinel)for(u=0;u<l.length;++u)l[u].indexOf("utf8=")===0&&(l[u]===le?c="utf-8":l[u]===fe&&(c="iso-8859-1"),t=u,u=l.length);for(u=0;u<l.length;++u)if(u!==t){var s=l[u],p=s.indexOf("]="),h=p===-1?s.indexOf("="):p+1,m,o;h===-1?(m=r.decoder(s,d.decoder,c,"key"),o=r.strictNullHandling?null:""):(m=r.decoder(s.slice(0,h),d.decoder,c,"key"),o=b.maybeMap(B(s.slice(h+1),r),function(S){return r.decoder(S,d.decoder,c,"value")})),o&&r.interpretNumericEntities&&c==="iso-8859-1"&&(o=ie(o)),s.indexOf("[]=")>-1&&(o=ae(o)?[o]:o),D.call(n,m)?n[m]=b.combine(n[m],o):n[m]=o}return n},oe=function(f,e,r,n){for(var a=n?e:B(e,r),i=f.length-1;i>=0;--i){var l,t=f[i];if(t==="[]"&&r.parseArrays)l=[].concat(a);else{l=r.plainObjects?Object.create(null):{};var u=t.charAt(0)==="["&&t.charAt(t.length-1)==="]"?t.slice(1,-1):t,c=parseInt(u,10);!r.parseArrays&&u===""?l={0:a}:!isNaN(c)&&t!==u&&String(c)===u&&c>=0&&r.parseArrays&&c<=r.arrayLimit?(l=[],l[c]=a):l[u]=a}a=l}return a},ce=function(e,r,n,a){if(!!e){var i=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,l=/(\[[^[\]]*])/,t=/(\[[^[\]]*])/g,u=n.depth>0&&l.exec(i),c=u?i.slice(0,u.index):i,s=[];if(c){if(!n.plainObjects&&D.call(Object.prototype,c)&&!n.allowPrototypes)return;s.push(c)}for(var p=0;n.depth>0&&(u=t.exec(i))!==null&&p<n.depth;){if(p+=1,!n.plainObjects&&D.call(Object.prototype,u[1].slice(1,-1))&&!n.allowPrototypes)return;s.push(u[1])}return u&&s.push("["+i.slice(u.index)+"]"),oe(s,r,n,a)}},se=function(e){if(!e)return d;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset!="undefined"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset=="undefined"?d.charset:e.charset;return{allowDots:typeof e.allowDots=="undefined"?d.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:d.allowPrototypes,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:d.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:d.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:d.comma,decoder:typeof e.decoder=="function"?e.decoder:d.decoder,delimiter:typeof e.delimiter=="string"||b.isRegExp(e.delimiter)?e.delimiter:d.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:d.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:d.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:d.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:d.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:d.strictNullHandling}},de=function(f,e){var r=se(e);if(f===""||f===null||typeof f=="undefined")return r.plainObjects?Object.create(null):{};for(var n=typeof f=="string"?ue(f,r):f,a=r.plainObjects?Object.create(null):{},i=Object.keys(n),l=0;l<i.length;++l){var t=i[l],u=ce(t,n[t],r,typeof f=="string");a=b.merge(a,u,r)}return b.compact(a)},ye={formats:O,parse:de,stringify:te};export default ye;
