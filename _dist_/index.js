import{a as h,b as W,c as dt,d as Lt,e as k,f as g,g as w,h as y,i as re,j as Dt,k as ie,l as ae,m as F,n as pt,o as S,p as G,q as D,r as L,s as E,t as x}from"/pigeon-project/chunk.2RPK45OS.js";var rt={MODE:"production",NODE_ENV:"production",SSR:!1};function U(e,t){for(let n in t)e[n]=t[n];return e}function it(e,...t){if(e==null)return h;let n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function v(e,t){e.appendChild(t)}function O(e){return document.createTextNode(e)}function M(){return O(" ")}function z(){return O("")}function at(e,t,n,s){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n,s)}function m(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function K(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function Z(e,t,n){e.classList[n?"add":"remove"](t)}function lt(){if(!Dt)throw new Error("Function called outside component initialization");return Dt}function ct(e){lt().$$.after_update.push(e)}function ut(){let e=lt();return(t,n)=>{let s=e.$$.callbacks[t];if(s){let o=re(t,n);s.slice().forEach(a=>{a.call(e,o)})}}}function Q(e,t){let n=e.$$.callbacks[t.type];n&&n.slice().forEach(s=>s(t))}function ft(){return ae(),ie}var q;function J(){q={r:0,c:[],p:q}}function X(){q.r||dt(q.c),q=q.p}function j(e,t,n,s){if(e&&e.o){if(pt.has(e))return;pt.add(e),q.c.push(()=>{pt.delete(e),s&&(n&&e.d(1),s())}),e.o(t)}}function tt(e,t){let n={},s={},o={$$scope:1},a=e.length;for(;a--;){let l=e[a],r=t[a];if(r){for(let i in l)i in r||(s[i]=1);for(let i in r)o[i]||(n[i]=r[i],o[i]=1);e[a]=r}else for(let i in l)o[i]=1}for(let l in s)l in n||(n[l]=void 0);return n}function et(e){return typeof e=="object"&&e!==null?e:{}}function P(e){e&&e.c()}function B(e){if(!e)throw Error("Parameter args is required");if(!e.component==!e.asyncComponent)throw Error("One and only one of component and asyncComponent is required");if(e.component&&(e.asyncComponent=()=>Promise.resolve(e.component)),typeof e.asyncComponent!="function")throw Error("Parameter asyncComponent must be a function");if(e.conditions){Array.isArray(e.conditions)||(e.conditions=[e.conditions]);for(let n=0;n<e.conditions.length;n++)if(!e.conditions[n]||typeof e.conditions[n]!="function")throw Error("Invalid parameter conditions["+n+"]")}return e.loadingComponent&&(e.asyncComponent.loading=e.loadingComponent,e.asyncComponent.loadingParams=e.loadingParams||void 0),{component:e.asyncComponent,userData:e.userData,conditions:e.conditions&&e.conditions.length?e.conditions:void 0,props:e.props&&Object.keys(e.props).length?e.props:{},_sveltesparouter:!0}}var Y=[];function ht(e,t){return{subscribe:Rt(e,t).subscribe}}function Rt(e,t=h){let n,s=[];function o(r){if(k(e,r)&&(e=r,n)){let i=!Y.length;for(let c=0;c<s.length;c+=1){let f=s[c];f[1](),Y.push(f,e)}if(i){for(let c=0;c<Y.length;c+=2)Y[c][0](Y[c+1]);Y.length=0}}}function a(r){o(r(e))}function l(r,i=h){let c=[r,i];return s.push(c),s.length===1&&(n=t(o)||h),r(e),()=>{let f=s.indexOf(c);f!==-1&&s.splice(f,1),s.length===0&&(n(),n=null)}}return{set:o,update:a,subscribe:l}}function mt(e,t,n){let s=!Array.isArray(e),o=s?[e]:e,a=t.length<2;return ht(n,l=>{let r=!1,i=[],c=0,f=h,T=()=>{if(c)return;f();let _=t(s?i[0]:i,l);a?l(_):f=Lt(_)?_:h},A=o.map((_,N)=>it(_,$=>{i[N]=$,c&=~(1<<N),r&&T()},()=>{c|=1<<N}));return r=!0,T(),function(){dt(A),f()}})}function Tt(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,s,o,a,l=[],r="",i=e.split("/");for(i[0]||i.shift();o=i.shift();)n=o[0],n==="*"?(l.push("wild"),r+="/(.*)"):n===":"?(s=o.indexOf("?",1),a=o.indexOf(".",1),l.push(o.substring(1,~s?s:~a?a:o.length)),r+=!!~s&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(r+=(~s?"?":"")+"\\"+o.substring(a))):r+="/"+o;return{keys:l,pattern:new RegExp("^"+r+(t?"(?=$|/)":"/?$"),"i")}}function qt(e){let t,n,s,o=[e[2]];var a=e[0];function l(r){let i={};for(let c=0;c<o.length;c+=1)i=U(i,o[c]);return{props:i}}return a&&(t=new a(l()),t.$on("routeEvent",e[7])),{c(){t&&P(t.$$.fragment),n=z()},m(r,i){t&&D(t,r,i),g(r,n,i),s=!0},p(r,i){let c=i&4?tt(o,[et(r[2])]):{};if(a!==(a=r[0])){if(t){J();let f=t;j(f.$$.fragment,1,0,()=>{L(f,1)}),X()}a?(t=new a(l()),t.$on("routeEvent",r[7]),P(t.$$.fragment),S(t.$$.fragment,1),D(t,n.parentNode,n)):t=null}else a&&t.$set(c)},i(r){s||(t&&S(t.$$.fragment,r),s=!0)},o(r){t&&j(t.$$.fragment,r),s=!1},d(r){r&&w(n),t&&L(t,r)}}}function Ht(e){let t,n,s,o=[{params:e[1]},e[2]];var a=e[0];function l(r){let i={};for(let c=0;c<o.length;c+=1)i=U(i,o[c]);return{props:i}}return a&&(t=new a(l()),t.$on("routeEvent",e[6])),{c(){t&&P(t.$$.fragment),n=z()},m(r,i){t&&D(t,r,i),g(r,n,i),s=!0},p(r,i){let c=i&6?tt(o,[i&2&&{params:r[1]},i&4&&et(r[2])]):{};if(a!==(a=r[0])){if(t){J();let f=t;j(f.$$.fragment,1,0,()=>{L(f,1)}),X()}a?(t=new a(l()),t.$on("routeEvent",r[6]),P(t.$$.fragment),S(t.$$.fragment,1),D(t,n.parentNode,n)):t=null}else a&&t.$set(c)},i(r){s||(t&&S(t.$$.fragment,r),s=!0)},o(r){t&&j(t.$$.fragment,r),s=!1},d(r){r&&w(n),t&&L(t,r)}}}function Mt(e){let t,n,s,o,a=[Ht,qt],l=[];function r(i,c){return i[1]?0:1}return t=r(e),n=l[t]=a[t](e),{c(){n.c(),s=z()},m(i,c){l[t].m(i,c),g(i,s,c),o=!0},p(i,[c]){let f=t;t=r(i),t===f?l[t].p(i,c):(J(),j(l[f],1,1,()=>{l[f]=null}),X(),n=l[t],n?n.p(i,c):(n=l[t]=a[t](i),n.c()),S(n,1),n.m(s.parentNode,s))},i(i){o||(S(n),o=!0)},o(i){j(n),o=!1},d(i){l[t].d(i),i&&w(s)}}}function _t(){let e=window.location.href.indexOf("#/"),t=e>-1?window.location.href.substr(e+1):"/",n=t.indexOf("?"),s="";return n>-1&&(s=t.substr(n+1),t=t.substr(0,n)),{location:t,querystring:s}}var nt=ht(null,function(t){t(_t());let n=()=>{t(_t())};return window.addEventListener("hashchange",n,!1),function(){window.removeEventListener("hashchange",n,!1)}}),de=mt(nt,e=>e.location),pe=mt(nt,e=>e.querystring);function Yt(e,t,n){let{routes:s={}}=t,{prefix:o=""}=t,{restoreScrollState:a=!1}=t;class l{constructor(u,p){if(!p||typeof p!="function"&&(typeof p!="object"||p._sveltesparouter!==!0))throw Error("Invalid component object");if(!u||typeof u=="string"&&(u.length<1||u.charAt(0)!="/"&&u.charAt(0)!="*")||typeof u=="object"&&!(u instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');let{pattern:C,keys:b}=Tt(u);this.path=u,typeof p=="object"&&p._sveltesparouter===!0?(this.component=p.component,this.conditions=p.conditions||[],this.userData=p.userData,this.props=p.props||{}):(this.component=()=>Promise.resolve(p),this.conditions=[],this.props={}),this._pattern=C,this._keys=b}match(u){if(o){if(typeof o=="string")if(u.startsWith(o))u=u.substr(o.length)||"/";else return null;else if(o instanceof RegExp){let R=u.match(o);if(R&&R[0])u=u.substr(R[0].length)||"/";else return null}}let p=this._pattern.exec(u);if(p===null)return null;if(this._keys===!1)return p;let C={},b=0;for(;b<this._keys.length;){try{C[this._keys[b]]=decodeURIComponent(p[b+1]||"")||null}catch(R){C[this._keys[b]]=null}b++}return C}async checkConditions(u){for(let p=0;p<this.conditions.length;p++)if(!await this.conditions[p](u))return!1;return!0}}let r=[];s instanceof Map?s.forEach((d,u)=>{r.push(new l(u,d))}):Object.keys(s).forEach(d=>{r.push(new l(d,s[d]))});let i=null,c=null,f={},T=ut();async function A(d,u){await ft(),T(d,u)}let _=null;a&&(window.addEventListener("popstate",d=>{d.state&&d.state.scrollY?_=d.state:_=null}),ct(()=>{_?window.scrollTo(_.scrollX,_.scrollY):window.scrollTo(0,0)}));let N=null,$=null;nt.subscribe(async d=>{N=d;let u=0;for(;u<r.length;){let p=r[u].match(d.location);if(!p){u++;continue}let C={route:r[u].path,location:d.location,querystring:d.querystring,userData:r[u].userData};if(!await r[u].checkConditions(C)){n(0,i=null),$=null,A("conditionsFailed",C);return}A("routeLoading",Object.assign({},C));let b=r[u].component;if($!=b){b.loading?(n(0,i=b.loading),$=b,n(1,c=b.loadingParams),n(2,f={}),A("routeLoaded",Object.assign({},C,{component:i,name:i.name}))):(n(0,i=null),$=null);let R=await b();if(d!=N)return;n(0,i=R&&R.default||R),$=b}p&&typeof p=="object"&&Object.keys(p).length?n(1,c=p):n(1,c=null),n(2,f=r[u].props),A("routeLoaded",Object.assign({},C,{component:i,name:i.name}));return}n(0,i=null),$=null});function I(d){Q(e,d)}function H(d){Q(e,d)}return e.$$set=d=>{"routes"in d&&n(3,s=d.routes),"prefix"in d&&n(4,o=d.prefix),"restoreScrollState"in d&&n(5,a=d.restoreScrollState)},e.$$.update=()=>{e.$$.dirty&32&&(history.scrollRestoration=a?"manual":"auto")},[i,c,f,s,o,a,I,H]}var gt=class extends x{constructor(t){super();E(this,t,Yt,Mt,k,{routes:3,prefix:4,restoreScrollState:5})}},wt=gt;function Bt(e){let t,n;return{c(){t=y("img"),t.src!==(n="pigeon.svg")&&m(t,"src",n),m(t,"alt","pigeon"),m(t,"width",e[1]),m(t,"class","svelte-1hh8uyz"),Z(t,"pigeon-icon-left",e[0]==="left")},m(s,o){g(s,t,o)},p(s,[o]){o&2&&m(t,"width",s[1]),o&1&&Z(t,"pigeon-icon-left",s[0]==="left")},i:h,o:h,d(s){s&&w(t)}}}function Ft(e,t,n){let{facing:s="right"}=t,{width:o=48}=t;return e.$$set=a=>{"facing"in a&&n(0,s=a.facing),"width"in a&&n(1,o=a.width)},[s,o]}var yt=class extends x{constructor(t){super();E(this,t,Ft,Bt,k,{facing:0,width:1})}},bt=yt;function Gt(e){let t,n,s,o,a;return s=new bt({}),{c(){t=y("nav"),n=y("a"),P(s.$$.fragment),o=O(`
    pigeon`),m(n,"href","#/"),m(n,"class","svelte-2vyxl2"),m(t,"class","svelte-2vyxl2")},m(l,r){g(l,t,r),v(t,n),D(s,n,null),v(n,o),a=!0},p:h,i(l){a||(S(s.$$.fragment,l),a=!0)},o(l){j(s.$$.fragment,l),a=!1},d(l){l&&w(t),L(s)}}}var vt=class extends x{constructor(t){super();E(this,t,null,Gt,k,{})}},kt=vt;function Wt(e){let t,n;return{c(){t=y("div"),t.innerHTML='<div class="spinner svelte-1ilml2y"><div class="spinner-animation svelte-1ilml2y"><svg class="spinner-svg svelte-1ilml2y" width="50" height="50" stroke-width="8.00" viewBox="1.00 1.00 98.00 98.00"><path class="spinner-track svelte-1ilml2y" d="M 50,50 m 0,-45 a 45,45 0 1 1 0,90 a 45,45 0 1 1 0,-90"></path><path class="spinner-head svelte-1ilml2y" d="M 50,50 m 0,-45 a 45,45 0 1 1 0,90 a 45,45 0 1 1 0,-90" pathLength="280" stroke-dasharray="280 280" stroke-dashoffset="210"></path></svg></div></div>',m(t,"class","loading-wrapper svelte-1ilml2y")},m(s,o){g(s,t,o)},p:h,i(s){n||F(()=>{n=G(t,W,{duration:100}),n.start()})},o:h,d(s){s&&w(t)}}}var xt=class extends x{constructor(t){super();E(this,t,null,Wt,k,{})}},st=xt;function zt(e){let t,n,s,o,a,l,r,i,c,f,T,A,_,N,$;return{c(){t=y("div"),n=y("h1"),n.textContent="svelte template",s=M(),o=y("button"),o.textContent="button",a=M(),l=y("p"),r=O("button clicks: "),i=O(e[1]),c=M(),f=y("p"),T=O("elapsed seconds: "),A=O(e[0]),m(o,"class","svelte-1kjnxzr"),m(t,"class","svelte-1kjnxzr")},m(I,H){g(I,t,H),v(t,n),v(t,s),v(t,o),v(t,a),v(t,l),v(l,r),v(l,i),v(t,c),v(t,f),v(f,T),v(f,A),N||($=at(o,"click",e[2]),N=!0)},p(I,[H]){H&2&&K(i,I[1]),H&1&&K(A,I[0])},i(I){_||F(()=>{_=G(t,W,{duration:100}),_.start()})},o:h,d(I){I&&w(t),N=!1,$()}}}function Jt(e,t,n){let s=0,o=0;return setInterval(()=>n(0,s++,s),1e3),[s,o,()=>n(1,o++,o)]}var Et=class extends x{constructor(t){super();E(this,t,Jt,zt,k,{})}},jt=Et;function Xt(e){let t,n;return{c(){t=y("div"),t.innerHTML=`<section class="svelte-1g9hwfx"><h2>Not Found</h2> 
    <h3>Nice job, <a href="#/">return to home</a>?</h3></section>`,m(t,"class","svelte-1g9hwfx")},m(s,o){g(s,t,o)},p:h,i(s){n||F(()=>{n=G(t,W,{duration:100}),n.start()})},o:h,d(s){s&&w(t)}}}function Vt(e,t,n){let{params:s}=t;return e.$$set=o=>{"params"in o&&n(0,s=o.params)},[s]}var $t=class extends x{constructor(t){super();E(this,t,Vt,Xt,k,{params:0})}},Ct=$t;var St=class{constructor({id:t,author:n,content:s,media:o,parent:a}){this.hydrated=!1,this.id=t,this.authorName=n,this.content=s,this.media=o,this.parentId=a}hydrate({users:t,posts:n}){this.author=t.find(s=>s.username===this.authorName),this.comments=n.filter(s=>s.parentId===this.id),this.parentId&&(this.parent=n.find(s=>s.id===this.parentId)),this.hydrated=!0}},At=class{constructor({username:t,displayName:n,followers:s,following:o}){this.hydrated=!1,this.username=t,this.displayName=n,this._followers=s,this._following=o}hydrate({users:t,posts:n}){let s=t.map(o=>({[o.username]:o})).reduce((o,a)=>({...o,...a}),{});this.followers=this._followers.map(o=>s[o]),this.following=this._following.map(o=>s[o]),this.posts=n.filter(o=>o.authorName===this.username),this.hydrated=!0}},ot=class{constructor(t){this.data=t,this.hydrated=!1,this.users=[],this.posts=[],t.users.forEach(n=>{this.users.push(new At({username:n.username,displayName:n.displayName,followers:t.follows.filter(s=>s.follows===n.username).map(s=>s.user),following:t.follows.filter(s=>s.user===n.username).map(s=>s.follows)}))}),t.posts.forEach(n=>{this.posts.push(new St({parent:n.parent,id:n.id,author:n.author,content:n.content,media:n.media}))})}hydrate(){this.users.map(t=>t.hydrate(this)),this.posts.map(t=>t.hydrate(this)),this.hydrated=!0}},Ut=[{username:"beowulf",displayName:"Beowulf \u2694\uFE0F"},{username:"hrothgar",displayName:"Hrothgar"}],Kt=[{id:"N7JIj-SsnuYwJGMDE7jeI",author:"beowulf",content:"Test post",media:[{type:"image",src:"/svelte.png",caption:"svelte logo"}],likes:50},{parent:"N7JIj-SsnuYwJGMDE7jeI",id:"CLbPj-j6Ntl4RW3DDI31I",author:"hrothgar",content:"Test comment",media:[],likes:25},{parent:"CLbPj-j6Ntl4RW3DDI31I",id:"J15YEWRo-_7xs-yGnkadZ",author:"beowulf",content:"Test reply",media:[{type:"image",src:"/svelte.png",caption:"svelte logo"}],likes:5},{parent:"J15YEWRo-_7xs-yGnkadZ",id:"g3ydvt9s7KItFg9J7-b05",author:"hrothgar",content:"Test reply to reply",media:[],likes:0},{id:"HVB2Cllx7mh_nPu64rPfc",author:"hrothgar",content:"Test post",media:[],likes:50},{parent:"HVB2Cllx7mh_nPu64rPfc",id:"7ONWTubGwm5Smrv4c7P39",author:"beowulf",content:"Test comment",media:[{type:"image",src:"/svelte.png",caption:"svelte logo"}],likes:25},{parent:"7ONWTubGwm5Smrv4c7P39",id:"Dtho7BYi4ndAARabLHTME",author:"hrothgar",content:"Test reply",media:[],likes:5},{parent:"Dtho7BYi4ndAARabLHTME",id:"mCcFntHY-PulrHiBIQGtm",author:"beowulf",content:"Test reply to reply",media:[{type:"image",src:"/svelte.png",caption:"svelte logo"}],likes:0}],Zt=[{user:"hrothgar",follows:"beowulf"}],Nt={users:Ut,posts:Kt,follows:Zt};function Qt(e){let t,n,s,o,a;return t=new kt({}),o=new wt({props:{routes:e[0]}}),{c(){P(t.$$.fragment),n=M(),s=y("main"),P(o.$$.fragment)},m(l,r){D(t,l,r),g(l,n,r),g(l,s,r),D(o,s,null),a=!0},p:h,i(l){a||(S(t.$$.fragment,l),S(o.$$.fragment,l),a=!0)},o(l){j(t.$$.fragment,l),j(o.$$.fragment,l),a=!1},d(l){L(t,l),l&&w(n),l&&w(s),L(o)}}}function te(e){let t=new ot(Nt);return t.hydrate(),console.log(t),[{"/":jt,"/page2":B({asyncComponent:()=>import("/pigeon-project/_dist_/pages/Page2.js"),loadingComponent:st}),"/page3":B({asyncComponent:()=>import("/pigeon-project/_dist_/pages/Page3.js"),loadingComponent:st}),"*":Ct}]}var Pt=class extends x{constructor(t){super();E(this,t,te,Qt,k,{})}},It=Pt;var V={};V.env=rt;var Ot=new It({target:document.body}),ee=Ot;V.hot&&(V.hot.accept(),V.hot.dispose(function(){Ot.$destroy()}));export{ee as default};
