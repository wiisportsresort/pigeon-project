{"version":3,"file":"User.svelte","sources":["User.svelte"],"sourcesContent":["<script lang=\"ts\">var _a;\n;\nimport qs from 'qs';\nimport { querystring } from 'svelte-spa-router';\nimport { fade } from 'svelte/transition';\nimport PostCard from '../components/PostCard.svelte';\nexport let hydrator;\nexport let params = { username: undefined };\n$: user = hydrator.getUser(params.username);\n$: profileImage = (_a = user === null || user === void 0 ? void 0 : user.profileImage) !== null && _a !== void 0 ? _a : { type: 'image', src: 'default.png' };\n$: tab = qs.parse($querystring !== null && $querystring !== void 0 ? $querystring : '').tab;\nconst setDefaultProfileImage = () => (profileImage = { type: 'image', src: 'default.png' });\n//# sourceMappingURL=User.svelte.js.map</script>\n\n<style lang=\"scss\">#user-wrapper {\n  display: flex;\n  max-width: 892px;\n  justify-content: space-between;\n  margin: 0 auto;\n}\n@media screen and (max-width: 760px) {\n  #user-wrapper {\n    flex-direction: column;\n    align-items: center;\n  }\n  #user-wrapper aside {\n    display: flex;\n    align-items: center;\n    flex-direction: row;\n    justify-content: space-between;\n  }\n  #user-wrapper aside h1 {\n    margin-top: 0;\n  }\n  #user-wrapper aside #pfp {\n    width: 128px;\n    height: 128px;\n  }\n  #user-wrapper aside #aside-content {\n    margin-left: 16px;\n    max-height: 148px;\n  }\n  #user-wrapper #posts {\n    width: 100%;\n    margin-top: 32px;\n  }\n}\n\n@media screen and (min-width: 760px) {\n  aside {\n    max-width: 260px;\n  }\n}\naside #pfp-wrapper {\n  display: flex;\n  justify-items: center;\n}\naside #pfp-wrapper #pfp {\n  border-radius: 50%;\n  max-width: 250px;\n  max-height: 250px;\n  border: 4px solid #cbd5e1;\n  object-fit: cover;\n}\naside h1 {\n  margin-bottom: 4px;\n}\naside #username {\n  font-size: 16px;\n  color: #64748b;\n  margin-bottom: 8px;\n  display: block;\n}\naside #bio {\n  display: block;\n  margin-bottom: 8px;\n}\naside #interactions {\n  display: flex;\n}\naside #interactions a {\n  color: #475569;\n  text-decoration: none;\n  margin-right: 6px;\n}\naside #interactions a .number {\n  color: #1e293b;\n}\naside #interactions a:hover {\n  text-decoration: underline;\n}\n\n#posts {\n  flex-grow: 1;\n}\n@media screen and (min-width: 760px) {\n  #posts {\n    max-width: 600px;\n  }\n}\n#posts nav {\n  display: flex;\n  height: 40px;\n}\n#posts nav :first-child {\n  border-top-left-radius: 4px;\n}\n#posts nav :last-child {\n  border-top-right-radius: 4px;\n}\n#posts nav .tab-item {\n  flex-grow: 1;\n  text-decoration: none;\n  color: black;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding-top: 2px;\n  border-bottom: 2px solid #dbeafe;\n  background-color: #dbeafe;\n  transition: background-color 75ms linear, border-color 75ms linear;\n}\n#posts nav .tab-item:hover {\n  background-color: #c2dcfd;\n  border-color: #c2dcfd;\n}\n#posts nav .tab-item.selected {\n  border-color: #60a5fa;\n  font-weight: 600;\n}</style>\n\n<div in:fade={{ duration: 100 }} id=\"user-wrapper\">\n  {#if user}\n    <aside>\n      <div id=\"pfp-wrapper\">\n        <img src={profileImage.src} on:error={setDefaultProfileImage} alt=\"profile\" id=\"pfp\" />\n      </div>\n      <div id=\"aside-content\">\n        <h1>{user.displayName}</h1>\n        <span id=\"username\">@{user.username}</span>\n        <span id=\"bio\">{user.bio}</span>\n        <div id=\"interactions\">\n          <a href={`#/user/${user.username}/followers`}>\n            <b class=\"number\">{user.followers?.length}</b>\n            Followers\n          </a>\n          <a href={`#/user/${user.username}/following`}>\n            <b class=\"number\">{user.following?.length}</b>\n            Following\n          </a>\n        </div>\n      </div>\n    </aside>\n    <section id=\"posts\">\n      <nav class=\"tab-list\">\n        <a\n          class=\"tab-item\"\n          class:selected={tab === 'posts' || !tab}\n          href={`#/user/${user.username}?tab=posts`}>Posts</a>\n        <a\n          class=\"tab-item\"\n          class:selected={tab === 'posts_with_comments'}\n          href={`#/user/${user.username}?tab=posts_with_comments`}>Posts and comments</a>\n        <a\n          class=\"tab-item\"\n          class:selected={tab === 'media'}\n          href={`#/user/${user.username}?tab=media`}>Media</a>\n      </nav>\n      {#if user.posts}\n        {#if tab === 'posts' || !tab}\n          {#if user.posts.some(p => !p.parent)}\n            {#each user.posts.filter(p => !p.parent) as post}\n              <PostCard {post} interactive=\"full\" />\n            {/each}\n          {:else}\n            <h3>No posts</h3>\n          {/if}\n        {:else if tab === 'posts_with_comments'}\n          {#each user.posts as post}\n            <PostCard {post} interactive=\"full\" />\n          {/each}\n        {:else if tab === 'media'}\n          {#if user.posts.some(p => p.media.length)}\n            {#each user.posts.filter(p => p.media.length) as post}\n              <PostCard {post} interactive=\"full\" />\n            {/each}\n          {:else}\n            <h3>No posts</h3>\n          {/if}\n        {/if}\n      {:else}\n        <h3>No posts</h3>\n      {/if}\n    </section>\n  {:else}\n    <h3>User not found: @{params.username}</h3>\n  {/if}\n</div>\n"],"names":[],"mappings":"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"}