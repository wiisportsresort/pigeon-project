import{a as S,b as se}from"/pigeon-project/chunk.XUPGBPIZ.js";import{a as ie,b as le}from"/pigeon-project/chunk.3EU24D2T.js";import{f as x}from"/pigeon-project/chunk.37OIGOVV.js";import{A as k,B as w,C as Z,D as H,E as L,F as J,G as te,H as X,a as M,c as re,f as oe,h as p,i as z,j as I,k as v,l as h,m as Q,n as ee,o as ne,p as B,q as $,x as Y,y as K,z as G}from"/pigeon-project/chunk.KG6B6XGW.js";function R(s,t,r){let e=s.slice();return e[7]=t[r],e}function ue(s){let t,r,e,n=s[0].id+"",a;return{c(){t=v("h3"),r=h("Post not found: "),e=v("code"),a=h(n)},m(i,_){z(i,t,_),p(t,r),p(t,e),p(e,a)},p(i,_){_&1&&n!==(n=i[0].id+"")&&$(a,n)},i:M,o:M,d(i){i&&I(t)}}}function ae(s){var E;let t,r,e,n,a,i,_,f,b,o=((E=s[1].author)==null?void 0:E.username)+"",m,P,O=s[0].id+"",q,A,N,C,j,T,D;n=new ie({props:{icon:"arrow-left",size:32,iconSize:20}});let g=S(s[2]),u=[];for(let l=0;l<g.length;l+=1)u[l]=U(R(s,g,l));let W=l=>w(u[l],1,1,()=>{u[l]=null});return{c(){t=v("header"),r=v("div"),e=v("div"),H(n.$$.fragment),a=Q(),i=v("span"),_=h("Post by "),f=v("b"),b=h("@"),m=h(o),P=h(" ("),q=h(O),A=h(")"),N=Q();for(let l=0;l<u.length;l+=1)u[l].c();C=ee(),B(r,"id","back-button-wrapper"),B(r,"class","svelte-1jvdo9p"),B(t,"class","svelte-1jvdo9p")},m(l,d){z(l,t,d),p(t,r),p(r,e),L(n,e,null),p(t,a),p(t,i),p(i,_),p(i,f),p(f,b),p(f,m),p(i,P),p(i,q),p(i,A),z(l,N,d);for(let y=0;y<u.length;y+=1)u[y].m(l,d);z(l,C,d),j=!0,T||(D=ne(e,"click",le),T=!0)},p(l,d){var y;if((!j||d&2)&&o!==(o=((y=l[1].author)==null?void 0:y.username)+"")&&$(m,o),(!j||d&1)&&O!==(O=l[0].id+"")&&$(q,O),d&28){g=S(l[2]);let c;for(c=0;c<g.length;c+=1){let F=R(l,g,c);u[c]?(u[c].p(F,d),k(u[c],1)):(u[c]=U(F),u[c].c(),k(u[c],1),u[c].m(C.parentNode,C))}for(K(),c=g.length;c<u.length;c+=1)W(c);G()}},i(l){if(!j){k(n.$$.fragment,l);for(let d=0;d<g.length;d+=1)k(u[d]);j=!0}},o(l){w(n.$$.fragment,l),u=u.filter(Boolean);for(let d=0;d<u.length;d+=1)w(u[d]);j=!1},d(l){l&&I(t),J(n),l&&I(N),x(u,l),l&&I(C),T=!1,D()}}}function U(s){let t,r;return t=new se({props:{post:s[7],interactive:s[4](s[7]),type:s[3](s[7])}}),{c(){H(t.$$.fragment)},m(e,n){L(t,e,n),r=!0},p(e,n){let a={};n&4&&(a.post=e[7]),n&4&&(a.interactive=e[4](e[7])),n&4&&(a.type=e[3](e[7])),t.$set(a)},i(e){r||(k(t.$$.fragment,e),r=!0)},o(e){w(t.$$.fragment,e),r=!1},d(e){J(t,e)}}}function de(s){let t,r,e,n,a,i,_=[ae,ue],f=[];function b(o,m){return o[1]?0:1}return e=b(s,-1),n=f[e]=_[e](s),{c(){t=v("div"),r=v("div"),n.c(),B(r,"id","post"),B(r,"class","svelte-1jvdo9p")},m(o,m){z(o,t,m),p(t,r),f[e].m(r,null),i=!0},p(o,[m]){let P=e;e=b(o,m),e===P?f[e].p(o,m):(K(),w(f[P],1,1,()=>{f[P]=null}),G(),n=f[e],n?n.p(o,m):(n=f[e]=_[e](o),n.c()),k(n,1),n.m(r,null))},i(o){i||(k(n),a||Y(()=>{a=Z(t,re,{duration:100}),a.start()}),i=!0)},o(o){w(n),i=!1},d(o){o&&I(t),f[e].d()}}}function fe(s,t,r){let e,{hydrator:n}=t,{params:a={id:void 0}}=t,i=n.getPost(a.id),_=(...o)=>o[0].parent?_(o[0].parent,...o):o,f=o=>{if((e==null?void 0:e.length)!==1)return(e==null?void 0:e.indexOf(o))===0?"linked-bottom":(e==null?void 0:e.indexOf(o))!==S(e==null?void 0:e.length)-1?"linked-full":"linked-top"},b=o=>o.id===S(i).id?void 0:"full";return s.$$set=o=>{"hydrator"in o&&r(5,n=o.hydrator),"params"in o&&r(0,a=o.params)},s.$$.update=()=>{if(s.$$.dirty&33){e:r(1,i=n.getPost(a.id))}if(s.$$.dirty&2){e:r(2,e=i?_(i):void 0)}},[a,i,e,f,b,n]}var V=class extends X{constructor(t){super();te(this,t,fe,de,oe,{hydrator:5,params:0})}},ce=V;export{ce as default};
