{"version":3,"file":"Post.svelte","sources":["Post.svelte"],"sourcesContent":["<script lang=\"ts\">;\nimport { pop } from 'svelte-spa-router';\nimport { fade } from 'svelte/transition';\nimport IconButton from '../components/IconButton.svelte';\n;\nimport PostCard from '../components/PostCard.svelte';\nimport { assert } from '../util';\nexport let hydrator;\nexport let params = { id: undefined };\nlet currentPost = hydrator.getPost(params.id);\n$: currentPost = hydrator.getPost(params.id);\nconst getParents = (...chain) => {\n    return chain[0].parent ? getParents(chain[0].parent, ...chain) : chain;\n};\n$: postChain = currentPost ? getParents(currentPost) : undefined;\nconst getPostCardType = (post) => {\n    if ((postChain === null || postChain === void 0 ? void 0 : postChain.length) === 1)\n        return undefined;\n    return (postChain === null || postChain === void 0 ? void 0 : postChain.indexOf(post)) === 0\n        ? 'linked-bottom'\n        : (postChain === null || postChain === void 0 ? void 0 : postChain.indexOf(post)) !== assert(postChain === null || postChain === void 0 ? void 0 : postChain.length) - 1\n            ? 'linked-full'\n            : 'linked-top';\n};\nconst getInteractive = (post) => {\n    return post.id === assert(currentPost).id ? undefined : 'full';\n};\n//# sourceMappingURL=Post.svelte.js.map</script>\n\n<style lang=\"scss\">#post {\n  max-width: 892px;\n  margin: 0 auto;\n}\n\nheader {\n  display: flex;\n  align-items: center;\n  margin-bottom: 4px;\n}\nheader #back-button-wrapper {\n  margin-right: 4px;\n}</style>\n\n<div in:fade={{ duration: 100 }}>\n  <div id=\"post\">\n    {#if currentPost}\n      <header>\n        <div id=\"back-button-wrapper\">\n          <div on:click={pop}>\n            <IconButton icon=\"arrow-left\" size={32} iconSize={20} />\n          </div>\n        </div>\n        <span>Post by <b>@{currentPost.author?.username}</b> ({params.id})</span>\n      </header>\n      {#each assert(postChain) as post}\n        <PostCard {post} interactive={getInteractive(post)} type={getPostCardType(post)} />\n      {/each}\n    {:else}\n      <h3>Post not found: <code>{params.id}</code></h3>\n    {/if}\n  </div>\n</div>\n"],"names":[],"mappings":"AA6BmB,KAAK,8BAAC,CAAC,AACxB,SAAS,CAAE,KAAK,CAChB,MAAM,CAAE,CAAC,CAAC,IAAI,AAChB,CAAC,AAED,MAAM,8BAAC,CAAC,AACN,OAAO,CAAE,IAAI,CACb,WAAW,CAAE,MAAM,CACnB,aAAa,CAAE,GAAG,AACpB,CAAC,AACD,qBAAM,CAAC,oBAAoB,eAAC,CAAC,AAC3B,YAAY,CAAE,GAAG,AACnB,CAAC"}