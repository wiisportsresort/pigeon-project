{"version":3,"names":[],"sources":["User.svelte"],"sourcesContent":["<script lang=\"ts\">var _a;\n;\nimport qs from 'qs';\nimport { querystring } from 'svelte-spa-router';\nimport { fade } from 'svelte/transition';\nimport PostCard from '../components/PostCard.svelte';\nexport let hydrator;\nexport let params = { username: undefined };\n$: user = hydrator.getUser(params.username);\n$: profileImage = (_a = user === null || user === void 0 ? void 0 : user.profileImage) !== null && _a !== void 0 ? _a : { type: 'image', src: 'default.png' };\n$: tab = qs.parse($querystring !== null && $querystring !== void 0 ? $querystring : '').tab;\nconst setDefaultProfileImage = () => (profileImage = { type: 'image', src: 'default.png' });\n//# sourceMappingURL=User.svelte.js.map</script>\n\n<style lang=\"scss\">#user-wrapper {\n  display: flex;\n  max-width: 892px;\n  justify-content: space-between;\n  margin: 0 auto;\n}\n@media screen and (max-width: 760px) {\n  #user-wrapper {\n    flex-direction: column;\n    align-items: center;\n  }\n  #user-wrapper aside {\n    display: flex;\n    align-items: center;\n    flex-direction: row;\n    justify-content: space-between;\n  }\n  #user-wrapper aside h1 {\n    margin-top: 0;\n  }\n  #user-wrapper aside #pfp {\n    width: 128px;\n    height: 128px;\n  }\n  #user-wrapper aside #aside-content {\n    margin-left: 16px;\n    max-height: 148px;\n  }\n  #user-wrapper #posts {\n    width: 100%;\n    margin-top: 32px;\n  }\n}\n\n@media screen and (min-width: 760px) {\n  aside {\n    max-width: 260px;\n  }\n}\naside #pfp-wrapper {\n  display: flex;\n  justify-items: center;\n}\naside #pfp-wrapper #pfp {\n  border-radius: 50%;\n  max-width: 250px;\n  max-height: 250px;\n  border: 4px solid #cbd5e1;\n  object-fit: cover;\n}\naside h1 {\n  margin-bottom: 4px;\n}\naside #username {\n  font-size: 16px;\n  color: #64748b;\n  margin-bottom: 8px;\n  display: block;\n}\naside #bio {\n  display: block;\n  margin-bottom: 8px;\n}\naside #interactions {\n  display: flex;\n}\naside #interactions a {\n  color: #475569;\n  text-decoration: none;\n  margin-right: 6px;\n}\naside #interactions a .number {\n  color: #1e293b;\n}\naside #interactions a:hover {\n  text-decoration: underline;\n}\n\n#posts {\n  flex-grow: 1;\n}\n@media screen and (min-width: 760px) {\n  #posts {\n    max-width: 600px;\n  }\n}\n#posts nav {\n  display: flex;\n  height: 40px;\n}\n#posts nav :first-child {\n  border-top-left-radius: 4px;\n}\n#posts nav :last-child {\n  border-top-right-radius: 4px;\n}\n#posts nav .tab-item {\n  flex-grow: 1;\n  text-decoration: none;\n  color: black;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding-top: 2px;\n  border-bottom: 2px solid #dbeafe;\n  background-color: #dbeafe;\n  transition: background-color 75ms linear, border-color 75ms linear;\n}\n#posts nav .tab-item:hover {\n  background-color: #c2dcfd;\n  border-color: #c2dcfd;\n}\n#posts nav .tab-item.selected {\n  border-color: #60a5fa;\n  font-weight: 600;\n}</style>\n\n<div in:fade={{ duration: 100 }} id=\"user-wrapper\">\n  {#if user}\n    <aside>\n      <div id=\"pfp-wrapper\">\n        <img src={profileImage.src} on:error={setDefaultProfileImage} alt=\"profile\" id=\"pfp\" />\n      </div>\n      <div id=\"aside-content\">\n        <h1>{user.displayName}</h1>\n        <span id=\"username\">@{user.username}</span>\n        <span id=\"bio\">{user.bio}</span>\n        <div id=\"interactions\">\n          <a href={`#/user/${user.username}/followers`}>\n            <b class=\"number\">{user.followers?.length}</b>\n            Followers\n          </a>\n          <a href={`#/user/${user.username}/following`}>\n            <b class=\"number\">{user.following?.length}</b>\n            Following\n          </a>\n        </div>\n      </div>\n    </aside>\n    <section id=\"posts\">\n      <nav class=\"tab-list\">\n        <a\n          class=\"tab-item\"\n          class:selected={tab === 'posts' || !tab}\n          href={`#/user/${user.username}?tab=posts`}>Posts</a>\n        <a\n          class=\"tab-item\"\n          class:selected={tab === 'posts_with_comments'}\n          href={`#/user/${user.username}?tab=posts_with_comments`}>Posts and comments</a>\n        <a\n          class=\"tab-item\"\n          class:selected={tab === 'media'}\n          href={`#/user/${user.username}?tab=media`}>Media</a>\n      </nav>\n      {#if user.posts}\n        {#if tab === 'posts' || !tab}\n          {#if user.posts.some(p => !p.parent)}\n            {#each user.posts.filter(p => !p.parent) as post}\n              <PostCard {post} interactive=\"full\" />\n            {/each}\n          {:else}\n            <h3>No posts</h3>\n          {/if}\n        {:else if tab === 'posts_with_comments'}\n          {#each user.posts as post}\n            <PostCard {post} interactive=\"full\" />\n          {/each}\n        {:else if tab === 'media'}\n          {#if user.posts.some(p => p.media.length)}\n            {#each user.posts.filter(p => p.media.length) as post}\n              <PostCard {post} interactive=\"full\" />\n            {/each}\n          {:else}\n            <h3>No posts</h3>\n          {/if}\n        {/if}\n      {:else}\n        <h3>No posts</h3>\n      {/if}\n    </section>\n  {:else}\n    <h3>User not found: @{params.username}</h3>\n  {/if}\n</div>\n"],"mappings":"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"}